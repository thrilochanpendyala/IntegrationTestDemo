name: Integration Test

on: [push, pull_request]

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Compile and Run Integration Tests
        run: |
          gcc test_integration.c -o test
          ./test

      - name: Compile and Run main_v2
        run: |
          gcc main_v2.c -o main_v2
          ./main_v2 > output.txt
          grep -q "Result: -1" output.txt
